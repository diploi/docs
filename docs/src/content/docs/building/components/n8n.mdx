---
title: n8n
description: Automate workflows with the n8n component managed by Diploi.
---

import { Code } from 'astro-expressive-code/components';
import {diploiElementList, extractElement} from '../../../../components/elementUtils'
export const AllElements = await diploiElementList()
export const n8nDetails = extractElement(AllElements,'n8n')
export const postgresDetails = extractElement(AllElements,'postgres')
export const n8nPackage = `${n8nDetails.url}/${n8nDetails.versions.pop()}`
export const postgresPackage = `${postgresDetails.url}/${postgresDetails.versions.pop()}`

n8n is a workflow automation platform for connecting APIs, services, and custom logic. Use this component when you need Diploi to build and deploy n8n so you can focus on building workflows, not configuring runtime environments.

## Add to your project

Paste this entry into the `components` list in `diploi.yaml` to add n8n to your project.

<Code code={`components:
  - name: ${n8nDetails.name}
    identifier: ${n8nDetails.identifier}
    package: ${n8nPackage}
    env:
      include:
        - postgres.POSTGRES_HOST:DB_POSTGRESDB_HOST
        - postgres.POSTGRES_PORT:DB_POSTGRESDB_PORT
        - postgres.POSTGRES_USER:DB_POSTGRESDB_USER
        - postgres.POSTGRES_PASSWORD:DB_POSTGRESDB_PASSWORD
addons:
  - name: PostgreSQL
    identifier: postgres
    package: ${postgresPackage}`} lang="yaml" />

:::note
- In Diploi, n8n uses Postgres for database, so you need to add a Postgres db if your deployment doesn't have one available. [Click here to learn how to add Postgres to your project](/building/add-ons/postgres).
- identifier must match the folder name you use for this component in your repo.
- You can import ENV from add-ons into components using env.include:

```yaml
env:
  include:
    - postgres.POSTGRES_HOST:DB_POSTGRESDB_HOST
    - postgres.POSTGRES_PORT:DB_POSTGRESDB_PORT
    - postgres.POSTGRES_USER:DB_POSTGRESDB_USER
    - postgres.POSTGRES_PASSWORD:DB_POSTGRESDB_PASSWORD
```
:::

:::caution
In n8n, you must use the environment variable names defined by their documentation. For more information check: https://docs.n8n.io/hosting/configuration/environment-variables/database/#postgresql
:::

## See also

- [Using Components](/building/components)
- [n8n component repository](https://github.com/diploi/component-n8n)
- [n8n docs](https://docs.n8n.io/)
- [Learn more about the `diploi.yaml` file](/reference/diploi-yaml)
